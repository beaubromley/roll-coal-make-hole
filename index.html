<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roll Coal Make Hole</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

	<!-- Start Screen -->
	<div id="start-screen">
		<div id="start-content-image">
			<div id="version-overlay">v1.1.0</div>
			<img src="images/title-screen.png" alt="Roll Coal Make Hole" id="title-image">
			<div id="button-overlay">
				<button id="start-button" class="menu-button-overlay">START GAME</button>
				<button id="view-scores-button" class="menu-button-overlay">HIGH SCORES</button>
			</div>
		</div>
	</div>

    <!-- Well Select Screen -->
    <div id="well-select-screen">
        <button id="back-from-select-button" class="back-button">✕</button>
        <div id="well-select-content">
            <h2 id="select-title">SELECT WELL</h2>
            <div id="well-options">
                <div class="well-card" data-well="powder">
                    <div class="well-image">
                        <img src="images/well-powder.png" alt="Powder River Basin" onerror="this.style.display='none'">
                    </div>
                    <h3>POWDER RIVER - NIO</h3>
                    <div class="well-details">
                        <p><strong>Location:</strong> Wyoming</p>
                        <p><strong>Target Depth:</strong> 27,500 ft MD</p>
                        <p><strong>Profile:</strong> 3-Mile Lateral</p>
                        <p><strong>Challenges:</strong> Fox Hills losses. Otherwise, snow bank.</p>
                        <p><strong>Difficulty:</strong> ★☆☆☆☆</p>
                    </div>
                    <div class="well-highscore" id="highscore-powder">
                        <div class="highscore-label">BEST SCORE:</div>
                        <div class="highscore-value">No scores yet</div>
                    </div>
                    <button class="select-button" data-well="powder">SELECT [1]</button>
                </div>

                <div class="well-card" data-well="williston">
                    <div class="well-image">
                        <img src="images/well-williston.png" alt="Williston Basin" onerror="this.style.display='none'">
                    </div>
                    <h3>WILLISTON - BAKKEN</h3>
                    <div class="well-details">
                        <p><strong>Location:</strong> North Dakota</p>
                        <p><strong>Target Depth:</strong> 21,500 ft MD</p>
                        <p><strong>Profile:</strong> Standard Bakken 10K</p>
                        <p><strong>Challenges:</strong> Gonna have to trip in the Kibbey</p>
                        <p><strong>Difficulty:</strong> ★★☆☆☆</p>
                    </div>
                    <div class="well-highscore" id="highscore-williston">
                        <div class="highscore-label">BEST SCORE:</div>
                        <div class="highscore-value">No scores yet</div>
                    </div>
                    <button class="select-button" data-well="williston">SELECT [2]</button>
                </div>

                <div class="well-card" data-well="eagleford">
                    <div class="well-image">
                        <img src="images/well-eagleford.png" alt="Eagle Ford" onerror="this.style.display='none'">
                    </div>
                    <h3>STX - EAGLE FORD</h3>
                    <div class="well-details">
                        <p><strong>Location:</strong> South Texas</p>
                        <p><strong>Target Depth:</strong> 19,500 ft MD</p>
                        <p><strong>Profile:</strong> Long lateral. Got a SA on this one.</p>
                        <p><strong>Challenges:</strong> Wilcox losses, Eagleford pressure.</p>
                        <p><strong>Difficulty:</strong> ★★★☆☆</p>
                    </div>
                    <div class="well-highscore" id="highscore-eagleford">
                        <div class="highscore-label">BEST SCORE:</div>
                        <div class="highscore-value">No scores yet</div>
                    </div>
                    <button class="select-button" data-well="eagleford">SELECT [3]</button>
                </div>

                <div class="well-card" data-well="stack">
                    <div class="well-image">
                        <img src="images/well-stack.png" alt="STACK Play" onerror="this.style.display='none'">
                    </div>
                    <h3>ANADARKO - MERAMEC</h3>
                    <div class="well-details">
                        <p><strong>Location:</strong> Oklahoma</p>
                        <p><strong>Target Depth:</strong> 20,500 ft MD</p>
                        <p><strong>Profile:</strong> 2-Mile Meramec</p>
                        <p><strong>Challenges:</strong> Intermediate losses, Gas Kicks, and lateral structure.</p>
                        <p><strong>Difficulty:</strong> ★★★★☆</p>
                    </div>
                    <div class="well-highscore" id="highscore-stack">
                        <div class="highscore-label">BEST SCORE:</div>
                        <div class="highscore-value">No scores yet</div>
                    </div>
                    <button class="select-button" data-well="stack">SELECT [4]</button>
                </div>

                <div class="well-card" data-well="delaware">
                    <div class="well-image">
                        <img src="images/well-delaware.png" alt="Delaware Basin" onerror="this.style.display='none'">
                    </div>
                    <h3>DELAWARE - WOLFCAMP</h3>
                    <div class="well-details">
                        <p><strong>Location:</strong> West Texas, America</p>
                        <p><strong>Target Depth:</strong> 21,500 ft MD</p>
                        <p><strong>Profile:</strong> 2-Mile Wolfcamp XY</p>
                        <p><strong>Challenges:</strong> Flows in every direction.</p>
                        <p><strong>Difficulty:</strong> ★★★★★</p>
                    </div>
                    <div class="well-highscore" id="highscore-delaware">
                        <div class="highscore-label">BEST SCORE:</div>
                        <div class="highscore-value">No scores yet</div>
                    </div>
                    <button class="select-button" data-well="delaware">SELECT [5]</button>
                </div>

                <div class="well-card well-card-armageddon" data-well="armageddon">
                    <div class="well-image">
                        <img src="images/well-armageddon.png" alt="ARMAGEDDON" onerror="this.style.display='none'">
                    </div>
                    <h3 style="color: #ff0000; text-shadow: 0 0 10px #ff0000;">ARMAGEDDON</h3>
                    <div class="well-details">
                        <p><strong>Location:</strong> Asteroid</p>
                        <p><strong>Target Depth:</strong> 800 ft</p>
                        <p><strong>Profile:</strong> Space Rock</p>
                        <p><strong>Challenges:</strong> Drillers save the world.</p>
                        <p><strong>Difficulty:</strong> <span style="color: #ff0000;">★★★★★★★★★★</span></p>
                    </div>
                    <div class="well-highscore" id="highscore-armageddon">
                        <div class="highscore-label">BEST SCORE:</div>
                        <div class="highscore-value">No scores yet</div>
                    </div>
                    <button class="select-button" data-well="armageddon" style="background: #ff0000; animation: pulse 1s infinite;">SELECT [6] - GOOD LUCK</button>
                </div>
            </div>
            <div id="select-instructions">Use number keys [1-6] or click to select | Hover edges to scroll</div>
        </div>
    </div>

    <!-- High Score Menu Screen -->
    <div id="highscore-menu-screen">
        <div id="highscore-menu-content">
            <h2 id="highscore-menu-title">HIGH SCORES</h2>
            <div id="highscore-menu-subtitle">Select a well to view scores</div>
            <div id="highscore-menu-wells"></div>
            <button id="back-from-scores-button" class="menu-button" style="margin-top: 30px;">BACK TO MENU [ESC]</button>
        </div>
    </div>

    <!-- High Score Screen -->
    <div id="highscore-screen">
        <div id="highscore-content">
            <h2 id="highscore-title">HIGH SCORES</h2>
            <div id="highscore-well-name"></div>
            <table id="highscore-table">
                <thead>
                    <tr>
                        <th>RANK</th>
                        <th>NAME</th>
                        <th>COST</th>
                        <th>TIME</th>
                        <th>FT/DAY</th>
                        <th>$/FT</th>
                        <th>DATE</th>
                    </tr>
                </thead>
                <tbody id="highscore-list">
                </tbody>
            </table>
            <button id="back-to-menu-button" class="menu-button">BACK TO MENU</button>
        </div>
    </div>

    <!-- Name Entry Screen -->
    <div id="name-entry-screen">
        <div id="name-entry-content">
            <h2>NEW HIGH SCORE!</h2>
            <p id="score-details"></p>
            <div id="name-entry-form">
                <label for="player-name">ENTER YOUR NAME:</label>
                <input type="text" id="player-name" maxlength="10" placeholder="DRILLER">
                <button id="submit-score-button" class="menu-button">SUBMIT</button>
            </div>
        </div>
    </div>

    <!-- Game Container -->
    <div id="game-container">
        <canvas id="gameCanvas" width="800" height="900"></canvas>
        
        <!-- Drilling Recorder Panel -->
        <div id="recorder-panel">
            <div id="recorder-title">◆ DRILLING RECORDER ◆</div>
            <canvas id="recorder-canvas" width="764" height="150"></canvas>
            <div id="digital-readouts">
                <div class="readout">
                    <div class="readout-label" style="color: #00ffff;">DEPTH</div>
                    <div class="readout-value" id="depth-readout" style="color: #00ffff;">0 ft</div>
                </div>
                <div class="readout">
                    <div class="readout-label" style="color: #76ff03;">ROP</div>
                    <div class="readout-value" id="rop-readout" style="color: #76ff03;">0 ft/hr</div>
                </div>
                <div class="readout">
                    <div class="readout-label" style="color: #ffeb3b;">WOB</div>
                    <div class="readout-value" id="wob-readout" style="color: #ffeb3b;">0 klbs</div>
                </div>
                <div class="readout">
                    <div class="readout-label" style="color: #ff00ff;">DIFF PRESS</div>
                    <div class="readout-value" id="dp-readout" style="color: #ff00ff;">0 psi</div>
                </div>
                <div class="readout">
                    <div class="readout-label" style="color: #00ffff;">FLOW</div>
                    <div class="readout-value" id="flow-readout" style="color: #00ffff;">550 gpm</div>
                </div>
                <div class="readout">
                    <div class="readout-label" style="color: #aaa;">MUD WT</div>
                    <div class="readout-value" id="mw-readout" style="color: #aaa;">10.0 ppg</div>
                </div>
            </div>
        </div>

        <!-- Drilling Window -->
        <div id="drilling-window">
            <div id="drilling-window-title">DRILLING WINDOW</div>
            <canvas id="drilling-window-canvas" width="180" height="180"></canvas>
        </div>

        <div class="mode-indicator" id="mode-indicator">ROTATING</div>

        <!-- Bottom Stats -->
        <div id="bottom-stats">
            <div class="stat-group">
                <div><span class="label">COST:</span> <span id="costDisplay" class="value cost">$0</span></div>
                <div><span class="label">STATUS:</span> <span id="statusDisplay" class="value">READY</span></div>
                <div><span class="label">BIT HEALTH:</span> <span id="healthDisplay" class="value">100</span>%</div>
                <div><span class="label">MOTOR HEALTH:</span> <span id="motorHealthDisplay" class="value">100</span>%</div>
            </div>
            <div class="stat-group">
                <div><span class="label">KICK RISK:</span> <span id="kickRiskDisplay" class="value risk">0</span>%</div>
                <div><span class="label">MOTOR SPIKES:</span> <span id="motorSpikesDisplay" class="value">0</span></div>
                <div><span class="label">MUD LOSSES:</span> <span id="lossRateDisplay" class="value">0</span> bbl/hr</div>
                <div><span class="label">LCM:</span> <span id="lcmDisplay" class="value">0</span> lb/bbl</div>
            </div>
            <div class="stat-group">
                <div><span class="label">FORMATION:</span> <span id="formationDisplay" class="value" style="color:#ffd54f">SURFACE</span></div>
                <div><span class="label">ECD:</span> <span id="ecdDisplay" class="value">0.0</span> ppg</div>
                <div><span class="label">TIME:</span> <span id="timeDisplay" class="value">Day 1 00:00</span></div>
                <div><span class="label">SLIDE FT %:</span> <span id="slideFtDisplay" class="value">0</span>%</div>
            </div>
        </div>

        <!-- Driller's Console (NEW) -->
		<div id="drillers-console">
			<div id="console-header">
				<div id="console-tabs">
					<button class="console-tab active" data-tab="controls">CONTROLS</button>
					<button class="console-tab" data-tab="reports">REPORTS</button>
				</div>
				<button id="console-minimize-btn">−</button>
			</div>
			
			<!-- Controls Tab -->
			<div id="console-content" class="console-tab-content active">
				<div class="console-section">
					<div class="console-label">DRILLING MODE</div>
					<div class="console-buttons">
						<button class="console-btn mode-btn" data-mode="slide-left">
							<div class="btn-icon">←</div>
							<div class="btn-label">SLIDE LEFT</div>
							<div class="btn-key">[A]</div>
						</button>
						<button class="console-btn mode-btn" data-mode="rotate">
							<div class="btn-icon">↻</div>
							<div class="btn-label">ROTATE</div>
							<div class="btn-key">[S]</div>
						</button>
						<button class="console-btn mode-btn" data-mode="slide-right">
							<div class="btn-icon">→</div>
							<div class="btn-label">SLIDE RIGHT</div>
							<div class="btn-key">[D]</div>
						</button>
					</div>
				</div>

				<div class="console-section">
					<div class="console-label">WOB: <span id="console-wob-display">0</span> KLBS</div>
					<div class="console-buttons">
						<button class="console-btn param-btn" data-param="wob" data-direction="up">
							<div class="btn-label">WOB ↑</div>
							<div class="btn-key">[↑]</div>
						</button>
						<button class="console-btn param-btn" data-param="wob" data-direction="down">
							<div class="btn-label">WOB ↓</div>
							<div class="btn-key">[↓]</div>
						</button>
					</div>
				</div>

				<div class="console-section">
					<div class="console-label">FLOW: <span id="console-flow-display">550</span> GPM</div>
					<div class="console-buttons">
						<button class="console-btn param-btn" data-param="flow" data-direction="up">
							<div class="btn-label">FLOW ↑</div>
							<div class="btn-key">[R]</div>
						</button>
						<button class="console-btn param-btn" data-param="flow" data-direction="down">
							<div class="btn-label">FLOW ↓</div>
							<div class="btn-key">[F]</div>
						</button>
					</div>
				</div>

				<div class="console-section">
					<div class="console-label">MUD WT: <span id="console-mw-display">10.0</span> PPG</div>
					<div class="console-buttons">
						<button class="console-btn param-btn" data-param="mw" data-direction="up">
							<div class="btn-label">MW ↑</div>
							<div class="btn-key">[T]</div>
						</button>
						<button class="console-btn param-btn" data-param="mw" data-direction="down">
							<div class="btn-label">MW ↓</div>
							<div class="btn-key">[G]</div>
						</button>
					</div>
				</div>

				<div class="console-section">
					<div class="console-label">LCM: <span id="console-lcm-display">0</span> LB/BBL</div>
					<div class="console-buttons">
						<button class="console-btn param-btn" data-param="lcm" data-direction="up">
							<div class="btn-label">LCM ↑</div>
							<div class="btn-key">[Y]</div>
						</button>
						<button class="console-btn param-btn" data-param="lcm" data-direction="down">
							<div class="btn-label">LCM ↓</div>
							<div class="btn-key">[H]</div>
						</button>
					</div>
				</div>
			</div>
			
			<!-- Reports Tab -->
			<div id="console-reports" class="console-tab-content">
				<div class="reports-container">
					<div class="report-chart">
						<div class="chart-title">DEPTH vs TIME</div>
						<canvas id="chart-depth-days" width="360" height="180"></canvas>
					</div>
					<div class="report-chart">
						<div class="chart-title">DEPTH vs COST</div>
						<canvas id="chart-depth-cost" width="360" height="180"></canvas>
					</div>
				</div>
			</div>
		</div>

		<!-- Console Maximize Button (when minimized) -->
		<button id="console-maximize-btn" style="display: none;">
			DRILLER'S CONSOLE [+]
		</button>
		
        <!-- Message Box -->
		<div id="message">
			<h2 id="msg-title">ALERT</h2>
			<p id="msg-detail">...</p>
			<button id="msg-ok-btn" class="menu-button">OK [SPACE]</button>
			<p id="msg-restart" style="font-size: 14px; margin-top:20px; color:#aaa;">Press ESC to Menu</p>
		</div>

        <!-- Start Prompt -->
        <div id="start-prompt">
            <h2>READY TO DRILL</h2>
            <p style="margin-top: 15px; font-size: 12px;">Press UP ARROW to add WOB and start drilling</p>
        </div>

        <!-- Pause Overlay -->
        <div id="pause-overlay">
            <div id="pause-text">
                ⏸ PAUSED ⏸
                <div style="font-size: 12px; margin-top: 20px;">Press P to Resume</div>
                <button id="quit-to-menu-button" class="menu-button" style="margin-top: 30px;">QUIT TO MENU [ESC]</button>
            </div>
        </div>

        <!-- Deviation Warning -->
        <div id="deviation-warning">
            <div>⚠ OFF TARGET ⚠</div>
            <div id="deviation-amount" style="font-size: 10px; margin-top: 5px;">Deviation: 0 ft</div>
        </div>

        <!-- Controls -->
        <div id="controls">
            [UP/DWN] WOB | [A] Slide Left | [S] Rotate | [D] Slide Right<br>
            [T/G] Mud Wt | [Y/H] LCM | [R/F] Flow | [P] Pause | [ESC] Menu
        </div>
    </div>

    <!-- Load JavaScript modules -->
    <script src="js/config/version.js"></script>
    <script src="js/config/constants.js"></script>
    <script src="js/config/wellConfigs.js"></script>
    <script src="js/core/DrillingMechanics.js"></script>
    <script src="js/core/GameState.js"></script>
    <script src="js/rendering/Recorder.js"></script>
    <script src="js/rendering/Renderer.js"></script>
    <script src="js/rendering/DrillingWindow.js"></script>
    <script src="js/ui/UIManager.js"></script>
    <script src="js/ui/SpeechBubble.js"></script>
    <script src="js/ui/DrillersConsole.js"></script>
    <script src="js/ui/MenuManager.js"></script>
    <script src="js/core/GameEngine.js"></script>
    <script src="js/main.js"></script>

    <script>
        window.addEventListener('DOMContentLoaded', () => {
            if (typeof GAME_VERSION !== 'undefined') {
                const versionOverlay = document.getElementById('version-overlay');
                if (versionOverlay) {
                    versionOverlay.innerText = GAME_VERSION.toString();
                }
            }
        });
    </script>

</body>
</html>
